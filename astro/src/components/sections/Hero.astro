---
import { t, type Locale } from '../../lib/i18n';
import { urlFor } from '../../lib/sanity';

interface Props {
  locale: Locale;
  data: any;
}

const { locale, data } = Astro.props;
---

<section 
  id="start" 
  class="relative flex items-center overflow-hidden min-h-[calc(100dvh-var(--header-height-mobile))] md:min-h-[calc(100dvh-var(--header-height-desktop))]"
>
  <!-- Background Image with Overlay -->
  <div class="absolute inset-0 z-0">
    {data?.image ? (
      <img 
        src={urlFor(data.image).width(1920).quality(85).url()}
        alt=""
        class="w-full h-full object-cover"
      />
    ) : (
      <div class="w-full h-full bg-branding-dark"></div>
    )}
    <div class="absolute inset-0 bg-gradient-to-r from-branding-dark/95 via-branding-dark/80 to-branding-dark/60"></div>
  </div>

  <!-- Content -->
  <div class="container-custom relative z-10 px-4 md:px-8 py-16">
    <div class="max-w-3xl">
      <!-- Main heading -->
      <h1 class="text-4xl md:text-5xl lg:text-6xl font-heading font-bold text-white leading-tight mb-6 animate-slide-up">
        {t(data?.title, locale) || (locale === 'de' 
          ? 'Bildung. Gemeinschaft. Perspektiven.' 
          : locale === 'en'
          ? 'Education. Community. Opportunities.'
          : 'ការអប់រំ។ សហគមន៍។ ឱកាស។')}
      </h1>

      <!-- Subtitle -->
      <p class="text-sm md:text-base uppercase tracking-[0.3em] font-bold text-secondary mb-4 animate-slide-up" style="animation-delay: 0.1s;">
        {t(data?.subtitle, locale) || (locale === 'de'
          ? 'Bildung. Gemeinschaft. Perspektiven.'
          : locale === 'en'
          ? 'Education. Community. Opportunities.'
          : 'ការអប់រំ។ សហគមន៍។ ឱកាស។')}
      </p>

      <!-- Description -->
      <p class="text-branding-light/90 text-base md:text-lg max-w-2xl mb-8 animate-slide-up" style="animation-delay: 0.2s;">
        {t(data?.description, locale) || (locale === 'de'
          ? 'Gemeinsam gestalten wir Zukunft – mit Vorschulbildung, Lernförderung & konkreter Hilfe im Alltag.'
          : locale === 'en'
          ? 'Together we shape the future – with preschool education, learning support & practical assistance.'
          : 'រួមគ្នាយើងកំណត់អនាគត – ជាមួយការអប់រំមត្តេយ្យ ការគាំទ្រការរៀន និងជំនួយជាក់ស្តែង។')}
      </p>

      <!-- CTAs -->
      <div class="flex flex-wrap gap-4 animate-slide-up" style="animation-delay: 0.3s;">
        <a href="#spenden" class="btn-donate">
          {locale === 'de' ? 'Jetzt spenden' : locale === 'en' ? 'Donate now' : 'បរិច្ចាគឥឡូវ'}
        </a>
        <a href="#mission" class="btn-secondary bg-white/10 border-white/30 text-white hover:bg-white/20 hover-lift">
          {locale === 'de' ? 'Mehr erfahren' : locale === 'en' ? 'Learn more' : 'ស្វែងយល់បន្ថែម'}
        </a>
      </div>
    </div>
  </div>

  <!-- Scroll indicator -->
  <div class="absolute bottom-8 left-1/2 -translate-x-1/2 animate-float hidden md:block">
    <a href="#mission" class="text-white/70 hover:text-white transition-all duration-300 hover:-translate-y-1 inline-block">
      <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
      </svg>
    </a>
  </div>
</section>
